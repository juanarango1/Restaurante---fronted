{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./styles/ListaUsuarios.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminProfile(){const[users,setUsers]=useState([]);const goTo=useNavigate();useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await fetch('http://localhost:5000/users');if(response.ok){const data=await response.json();setUsers(data);}else{console.error('Error al cargar la lista de usuarios');}}catch(error){console.error('Error al cargar la lista de usuarios:',error);}};const handleEditUser=username=>{goTo('/EditarUsuario');console.log('Editar usuario:',username);};const handleDeleteUser=async username=>{try{const response=await fetch(\"http://localhost:5000/users/\".concat(username),{method:'DELETE'});if(response.ok){setUsers(prevUsers=>prevUsers.filter(user=>user.username!==username));console.log('Usuario eliminado correctamente');}else{console.error('Error al eliminar usuario');}}catch(error){console.error('Error al eliminar usuario:',error);}};const handleVolver=()=>{goTo('/administrador');};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-list\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVolver,children:\"Volver\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"titulo\",children:\"USUARIOS\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"USUARIO\"}),/*#__PURE__*/_jsx(\"span\",{children:\"CONTRASE\\xD1A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"ROLE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"ACCION\"})]}),users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:user.username}),/*#__PURE__*/_jsx(\"span\",{children:user.password}),/*#__PURE__*/_jsx(\"span\",{children:user.role}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditUser(user.username),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteUser(user.username),children:\"Eliminar\"})]})]},user.username))]})]});}export default AdminProfile;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminProfile","users","setUsers","goTo","fetchUsers","response","fetch","ok","data","json","console","error","handleEditUser","username","log","handleDeleteUser","concat","method","prevUsers","filter","user","handleVolver","className","children","onClick","map","password","role"],"sources":["C:/Users/diego/Desktop/RST - copia/fronted/login-app-frontend/src/components/ListaUsuarios.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './styles/ListaUsuarios.css';\r\n\r\nfunction AdminProfile() {\r\n    const [users, setUsers] = useState([]);\r\n    const goTo = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/users');\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setUsers(data);\r\n            } else {\r\n                console.error('Error al cargar la lista de usuarios');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al cargar la lista de usuarios:', error);\r\n        }\r\n    };\r\n\r\n    const handleEditUser = (username) => {\r\n        goTo('/EditarUsuario');\r\n        console.log('Editar usuario:', username);\r\n    };\r\n\r\n    const handleDeleteUser = async (username) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/users/${username}`, {\r\n                method: 'DELETE',\r\n            });\r\n            if (response.ok) {\r\n\r\n                setUsers(prevUsers => prevUsers.filter(user => user.username !== username));\r\n                console.log('Usuario eliminado correctamente');\r\n\r\n            } else {\r\n                console.error('Error al eliminar usuario');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al eliminar usuario:', error);\r\n        }\r\n    };\r\n\r\n    const handleVolver = () => {\r\n        goTo('/administrador');\r\n    };\r\n    return (\r\n        <div className=\"user-list\">\r\n            <button onClick={handleVolver}>Volver</button>\r\n            <h2 className='titulo'>USUARIOS</h2>\r\n            <ul>\r\n                <li className=\"list-header\">\r\n                    <span>USUARIO</span>\r\n                    <span>CONTRASEÃ‘A</span>\r\n                    <span>ROLE</span>\r\n                    <span>ACCION</span>\r\n                </li>\r\n                {users.map(user => (\r\n                    <li key={user.username}>\r\n                        <span>{user.username}</span>\r\n                        <span>{user.password}</span>\r\n                        <span>{user.role}</span>\r\n                        <span>\r\n                            <button onClick={() => handleEditUser(user.username)}>Editar</button>\r\n                            <button onClick={() => handleDeleteUser(user.username)}>Eliminar</button>\r\n\r\n                        </span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}