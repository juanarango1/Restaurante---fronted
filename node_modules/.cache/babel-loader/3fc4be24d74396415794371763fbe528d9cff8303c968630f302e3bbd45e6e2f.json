{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./styles/ListaUsuarios.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ListaProductos(){const[products,setProducts]=useState([]);const goTo=useNavigate();useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await fetch('http://localhost:5000/products');if(response.ok){const data=await response.json();setProducts(data);}else{console.error('Error al cargar la lista de productos');}}catch(error){console.error('Error al cargar la lista de productos:',error);}};const handleEditProduct=name=>{goTo('/editarproducto');console.log('Editar producto:',name);};const handleDeleteProduct=async name=>{try{const response=await fetch(\"http://localhost:5000/products/\".concat(name),{method:'DELETE'});if(response.ok){setProducts(prevProducts=>prevProducts.filter(product=>product.name!==name));console.log('Producto eliminado correctamente');}else{console.error('Error al eliminar Producto');}}catch(error){console.error('Error al eliminar Producto:',error);}};const handleVolver=()=>{goTo('/administrador');};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-list\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleVolver,children:\"Volver\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"titulo\",children:\"PRODUCTOS\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"PRODUCTO\"}),/*#__PURE__*/_jsx(\"span\",{children:\"PRECIO\"}),/*#__PURE__*/_jsx(\"span\",{children:\"ACCION\"})]}),products.map(product=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{children:product.price}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditProduct(product.name),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product.name),children:\"Eliminar\"})]})]},product.id))]})]});}export default ListaProductos;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","ListaProductos","products","setProducts","goTo","fetchUsers","response","fetch","ok","data","json","console","error","handleEditProduct","name","log","handleDeleteProduct","concat","method","prevProducts","filter","product","handleVolver","className","children","onClick","map","price","id"],"sources":["C:/Users/diego/Desktop/RST - copia/fronted/login-app-frontend/src/components/ListaProductos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './styles/ListaUsuarios.css';\r\n\r\nfunction ListaProductos() {\r\n    const [products, setProducts] = useState([]);\r\n    const goTo = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/products');\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setProducts(data);\r\n            } else {\r\n                console.error('Error al cargar la lista de productos');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al cargar la lista de productos:', error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleEditProduct = (name) => {\r\n        goTo('/editarproducto');\r\n        console.log('Editar producto:', name);\r\n    };\r\n\r\n\r\n    const handleDeleteProduct = async (name) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/products/${name}`, {\r\n                method: 'DELETE',\r\n            });\r\n            if (response.ok) {\r\n\r\n                setProducts(prevProducts => prevProducts.filter(product => product.name !== name));\r\n                console.log('Producto eliminado correctamente');\r\n\r\n            } else {\r\n                console.error('Error al eliminar Producto');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al eliminar Producto:', error);\r\n        }\r\n    };\r\n\r\n    const handleVolver = () => {\r\n        goTo('/administrador');\r\n    };\r\n\r\n    return (\r\n        <div className=\"user-list\">\r\n            <button onClick={handleVolver}>Volver</button>\r\n            <h2 className='titulo'>PRODUCTOS</h2>\r\n\r\n            <ul>\r\n                <li className=\"list-header\">\r\n                    <span>PRODUCTO</span>\r\n                    <span>PRECIO</span>\r\n                    <span>ACCION</span>\r\n                </li>\r\n                {products.map(product => (\r\n                    <li key={product.id}>\r\n                        <span>{product.name}</span>\r\n                        <span>{product.price}</span>\r\n                        <span>\r\n                            <button onClick={() => handleEditProduct(product.name)}>Editar</button>\r\n                            <button onClick={() => handleDeleteProduct(product.name)}>Eliminar</button>\r\n                        </span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ListaProductos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}